//
// Copyright (c) 2018 Volterra, Inc. All rights reserved.
// Code generated by ves-gen-tf-provider. DO NOT EDIT.
//

package volterra

import (
	"context"
	"fmt"
	"log"
	"strings"

	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	"gopkg.volterra.us/stdlib/client/vesapi"

	ves_io_schema "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema"
	ves_io_schema_dns_proxy "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema/dns_proxy"
	ves_io_schema_healthcheck "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema/healthcheck"
	ves_io_schema_views "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema/views"
	ves_io_schema_views_origin_pool "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema/views/origin_pool"
	ves_io_schema_virtual_host "github.com/volterraedge/terraform-provider-volterra/pbgo/extschema/schema/virtual_host"
)

// resourceVolterraDnsProxy is implementation of Volterra's DnsProxy resources
func resourceVolterraDnsProxy() *schema.Resource {
	return &schema.Resource{
		Create: resourceVolterraDnsProxyCreate,
		Read:   resourceVolterraDnsProxyRead,
		Update: resourceVolterraDnsProxyUpdate,
		Delete: resourceVolterraDnsProxyDelete,

		Schema: map[string]*schema.Schema{

			"annotations": {
				Type:     schema.TypeMap,
				Optional: true,
			},

			"description": {
				Type:     schema.TypeString,
				Optional: true,
			},

			"disable": {
				Type:     schema.TypeBool,
				Optional: true,
			},

			"labels": {
				Type:     schema.TypeMap,
				Optional: true,
			},

			"name": {
				Type:     schema.TypeString,
				Required: true,
				ForceNew: true,
			},

			"namespace": {
				Type:     schema.TypeString,
				Required: true,
				ForceNew: true,
			},

			"cache_profile": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Required: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"cache_size": {

							Type:     schema.TypeInt,
							Optional: true,
						},

						"disable_cache_profile": {

							Type:     schema.TypeBool,
							Optional: true,
						},
					},
				},
			},

			"ddos_profile": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Required: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"disable_ddos_mitigation": {

							Type:     schema.TypeBool,
							Optional: true,
						},

						"enable_ddos_mitigation": {

							Type:     schema.TypeBool,
							Optional: true,
						},
					},
				},
			},

			"irules": {

				Type:     schema.TypeList,
				Optional: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"name": {
							Type:     schema.TypeString,
							Optional: true,
						},
						"namespace": {
							Type:     schema.TypeString,
							Optional: true,
						},
						"tenant": {
							Type:     schema.TypeString,
							Optional: true,
						},
					},
				},
			},

			"lb_algorithm": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Optional: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"round_robin": {

							Type:     schema.TypeBool,
							Optional: true,
						},
					},
				},
			},

			"origin_servers": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Required: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"health_checks": {

							Type:     schema.TypeList,
							MaxItems: 1,
							Required: true,
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{

									"health_check": {

										Type:     schema.TypeList,
										Required: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"dns_health_check": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"expected_rcode": {
																Type:     schema.TypeString,
																Required: true,
															},

															"expected_record_type": {
																Type:     schema.TypeString,
																Required: true,
															},

															"expected_response": {
																Type:     schema.TypeString,
																Required: true,
															},

															"query_name": {
																Type:     schema.TypeString,
																Required: true,
															},

															"query_type": {
																Type:     schema.TypeString,
																Required: true,
															},

															"reverse": {
																Type:     schema.TypeBool,
																Optional: true,
															},
														},
													},
												},

												"icmp_health_check": {

													Type:     schema.TypeBool,
													Optional: true,
												},

												"tcp_health_check": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"expected_response": {
																Type:     schema.TypeString,
																Required: true,
															},

															"send_payload": {
																Type:     schema.TypeString,
																Required: true,
															},
														},
													},
												},

												"udp_health_check": {

													Type:       schema.TypeList,
													MaxItems:   1,
													Optional:   true,
													Deprecated: "This field is deprecated and will be removed in future release.",
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"expected_response": {
																Type:       schema.TypeString,
																Required:   true,
																Deprecated: "This field is deprecated and will be removed in future release.",
															},

															"send_payload": {
																Type:       schema.TypeString,
																Required:   true,
																Deprecated: "This field is deprecated and will be removed in future release.",
															},
														},
													},
												},
											},
										},
									},

									"healthy_threshold": {
										Type:     schema.TypeInt,
										Required: true,
									},

									"interval": {
										Type:     schema.TypeInt,
										Required: true,
									},

									"jitter": {
										Type:       schema.TypeInt,
										Optional:   true,
										Deprecated: "This field is deprecated and will be removed in future release.",
									},

									"jitter_percent": {
										Type:       schema.TypeInt,
										Optional:   true,
										Deprecated: "This field is deprecated and will be removed in future release.",
									},

									"timeout": {
										Type:     schema.TypeInt,
										Required: true,
									},

									"unhealthy_threshold": {
										Type:     schema.TypeInt,
										Required: true,
									},
								},
							},
						},

						"origin_servers": {

							Type:     schema.TypeList,
							Required: true,
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{

									"k8s_service": {

										Type:     schema.TypeList,
										MaxItems: 1,
										Optional: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"inside_network": {

													Type:     schema.TypeBool,
													Optional: true,
												},

												"outside_network": {

													Type:     schema.TypeBool,
													Optional: true,
												},

												"vk8s_networks": {

													Type:     schema.TypeBool,
													Optional: true,
												},

												"protocol": {
													Type:     schema.TypeString,
													Optional: true,
												},

												"service_name": {

													Type:     schema.TypeString,
													Optional: true,
												},

												"service_selector": {

													Type:       schema.TypeList,
													MaxItems:   1,
													Optional:   true,
													Deprecated: "This field is deprecated and will be removed in future release.",
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"expressions": {

																Type: schema.TypeList,

																Required:   true,
																Deprecated: "This field is deprecated and will be removed in future release.",
																Elem: &schema.Schema{
																	Type: schema.TypeString,
																},
															},
														},
													},
												},

												"site_locator": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Required: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Optional: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},

															"virtual_site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Optional: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"snat_pool": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"no_snat_pool": {

																Type:     schema.TypeBool,
																Optional: true,
															},

															"snat_pool": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Optional: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"ipv6_prefixes": {

																			Type: schema.TypeList,

																			Optional: true,
																			Elem: &schema.Schema{
																				Type: schema.TypeString,
																			},
																		},

																		"prefixes": {

																			Type: schema.TypeList,

																			Optional: true,
																			Elem: &schema.Schema{
																				Type: schema.TypeString,
																			},
																		},
																	},
																},
															},
														},
													},
												},
											},
										},
									},

									"public_ip": {

										Type:     schema.TypeList,
										MaxItems: 1,
										Optional: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"ip": {

													Type:     schema.TypeString,
													Optional: true,
												},

												"ipv6": {

													Type:     schema.TypeString,
													Optional: true,
												},
											},
										},
									},

									"public_name": {

										Type:     schema.TypeList,
										MaxItems: 1,
										Optional: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"dns_name": {
													Type:     schema.TypeString,
													Required: true,
												},

												"refresh_interval": {
													Type:     schema.TypeInt,
													Optional: true,
												},
											},
										},
									},

									"no_preference": {

										Type:     schema.TypeBool,
										Optional: true,
									},

									"site_preferences": {

										Type:     schema.TypeList,
										MaxItems: 1,
										Optional: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"refs": {

													Type:     schema.TypeList,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"kind": {
																Type:     schema.TypeString,
																Computed: true,
															},

															"name": {
																Type:     schema.TypeString,
																Optional: true,
															},
															"namespace": {
																Type:     schema.TypeString,
																Optional: true,
															},
															"tenant": {
																Type:     schema.TypeString,
																Optional: true,
															},
														},
													},
												},
											},
										},
									},
								},
							},
						},
					},
				},
			},

			"protocol_inspection": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Optional: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"name": {
							Type:     schema.TypeString,
							Optional: true,
						},
						"namespace": {
							Type:     schema.TypeString,
							Optional: true,
						},
						"tenant": {
							Type:     schema.TypeString,
							Optional: true,
						},
					},
				},
			},

			"proxy_advertisement": {

				Type:     schema.TypeList,
				MaxItems: 1,
				Optional: true,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{

						"advertise_custom": {

							Type:     schema.TypeList,
							MaxItems: 1,
							Optional: true,
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{

									"advertise_where": {

										Type:     schema.TypeList,
										Required: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"advertise_on_public": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"public_ip": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"cloud_edge_segment": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"cloud_edge": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},

															"ip": {
																Type:     schema.TypeString,
																Required: true,
															},

															"ipv6": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"segment": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"segment": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"ipv4_vip": {
																Type:     schema.TypeString,
																Required: true,
															},

															"ipv6_vip": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"segment": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"site": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"ip": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"ipv6": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"network": {
																Type:     schema.TypeString,
																Required: true,
															},

															"site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"site_segment": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"ip": {
																Type:     schema.TypeString,
																Required: true,
															},

															"ipv6": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"segment": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},

															"site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"virtual_network": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"default_v6_vip": {

																Type:     schema.TypeBool,
																Optional: true,
															},

															"specific_v6_vip": {

																Type:     schema.TypeString,
																Optional: true,
															},

															"default_vip": {

																Type:     schema.TypeBool,
																Optional: true,
															},

															"specific_vip": {

																Type:     schema.TypeString,
																Optional: true,
															},

															"virtual_network": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"virtual_site": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"network": {
																Type:     schema.TypeString,
																Required: true,
															},

															"virtual_site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"virtual_site_segment": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"ip": {
																Type:     schema.TypeString,
																Required: true,
															},

															"ipv6": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"segment": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},

															"virtual_site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"virtual_site_with_vip": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"ip": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"ipv6": {
																Type:     schema.TypeString,
																Optional: true,
															},

															"network": {
																Type:     schema.TypeString,
																Required: true,
															},

															"virtual_site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Required: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"vk8s_service": {

													Type:     schema.TypeList,
													MaxItems: 1,
													Optional: true,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{

															"site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Optional: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},

															"virtual_site": {

																Type:     schema.TypeList,
																MaxItems: 1,
																Optional: true,
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{

																		"kind": {
																			Type:     schema.TypeString,
																			Computed: true,
																		},

																		"name": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"namespace": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																		"tenant": {
																			Type:     schema.TypeString,
																			Optional: true,
																		},
																	},
																},
															},
														},
													},
												},

												"port": {

													Type:     schema.TypeInt,
													Optional: true,
												},

												"port_ranges": {

													Type:     schema.TypeString,
													Optional: true,
												},

												"use_default_port": {

													Type:     schema.TypeBool,
													Optional: true,
												},
											},
										},
									},
								},
							},
						},

						"advertise_on_public": {

							Type:     schema.TypeList,
							MaxItems: 1,
							Optional: true,
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{

									"public_ip": {

										Type:     schema.TypeList,
										MaxItems: 1,
										Required: true,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{

												"kind": {
													Type:     schema.TypeString,
													Computed: true,
												},

												"name": {
													Type:     schema.TypeString,
													Optional: true,
												},
												"namespace": {
													Type:     schema.TypeString,
													Optional: true,
												},
												"tenant": {
													Type:     schema.TypeString,
													Optional: true,
												},
											},
										},
									},
								},
							},
						},

						"advertise_on_public_default_vip": {

							Type:     schema.TypeBool,
							Optional: true,
						},

						"do_not_advertise": {

							Type:     schema.TypeBool,
							Optional: true,
						},
					},
				},
			},

			"transport_type": {
				Type:     schema.TypeString,
				Required: true,
			},
		},
	}
}

// resourceVolterraDnsProxyCreate creates DnsProxy resource
func resourceVolterraDnsProxyCreate(d *schema.ResourceData, meta interface{}) error {
	client := meta.(*APIClient)

	createMeta := &ves_io_schema.ObjectCreateMetaType{}
	createSpec := &ves_io_schema_dns_proxy.CreateSpecType{}
	createReq := &ves_io_schema_dns_proxy.CreateRequest{
		Metadata: createMeta,
		Spec:     createSpec,
	}

	if v, ok := d.GetOk("annotations"); ok && !isIntfNil(v) {

		ms := map[string]string{}

		for k, v := range v.(map[string]interface{}) {
			val := v.(string)
			ms[k] = val
		}
		createMeta.Annotations = ms
	}

	if v, ok := d.GetOk("description"); ok && !isIntfNil(v) {
		createMeta.Description =
			v.(string)
	}

	if v, ok := d.GetOk("disable"); ok && !isIntfNil(v) {
		createMeta.Disable =
			v.(bool)
	}

	if v, ok := d.GetOk("labels"); ok && !isIntfNil(v) {

		ms := map[string]string{}

		for k, v := range v.(map[string]interface{}) {
			val := v.(string)
			ms[k] = val
		}
		createMeta.Labels = ms
	}

	if v, ok := d.GetOk("name"); ok && !isIntfNil(v) {
		createMeta.Name =
			v.(string)
	}

	if v, ok := d.GetOk("namespace"); ok && !isIntfNil(v) {
		createMeta.Namespace =
			v.(string)
	}

	//cache_profile
	if v, ok := d.GetOk("cache_profile"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		cacheProfile := &ves_io_schema_virtual_host.DNSCacheProfile{}
		createSpec.CacheProfile = cacheProfile
		for _, set := range sl {
			if set != nil {
				cacheProfileMapStrToI := set.(map[string]interface{})

				cacheProfileChoiceTypeFound := false

				if v, ok := cacheProfileMapStrToI["cache_size"]; ok && !isIntfNil(v) && !cacheProfileChoiceTypeFound {

					cacheProfileChoiceTypeFound = true
					cacheProfileChoiceInt := &ves_io_schema_virtual_host.DNSCacheProfile_CacheSize{}

					cacheProfile.CacheProfileChoice = cacheProfileChoiceInt

					cacheProfileChoiceInt.CacheSize = uint32(v.(int))

				}

				if v, ok := cacheProfileMapStrToI["disable_cache_profile"]; ok && !isIntfNil(v) && !cacheProfileChoiceTypeFound {

					cacheProfileChoiceTypeFound = true

					if v.(bool) {
						cacheProfileChoiceInt := &ves_io_schema_virtual_host.DNSCacheProfile_DisableCacheProfile{}
						cacheProfileChoiceInt.DisableCacheProfile = &ves_io_schema.Empty{}
						cacheProfile.CacheProfileChoice = cacheProfileChoiceInt
					}

				}

			}
		}

	}

	//ddos_profile
	if v, ok := d.GetOk("ddos_profile"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		ddosProfile := &ves_io_schema_virtual_host.DNSDDoSProfile{}
		createSpec.DdosProfile = ddosProfile
		for _, set := range sl {
			if set != nil {
				ddosProfileMapStrToI := set.(map[string]interface{})

				ddosMitigationChoiceTypeFound := false

				if v, ok := ddosProfileMapStrToI["disable_ddos_mitigation"]; ok && !isIntfNil(v) && !ddosMitigationChoiceTypeFound {

					ddosMitigationChoiceTypeFound = true

					if v.(bool) {
						ddosMitigationChoiceInt := &ves_io_schema_virtual_host.DNSDDoSProfile_DisableDdosMitigation{}
						ddosMitigationChoiceInt.DisableDdosMitigation = &ves_io_schema.Empty{}
						ddosProfile.DdosMitigationChoice = ddosMitigationChoiceInt
					}

				}

				if v, ok := ddosProfileMapStrToI["enable_ddos_mitigation"]; ok && !isIntfNil(v) && !ddosMitigationChoiceTypeFound {

					ddosMitigationChoiceTypeFound = true

					if v.(bool) {
						ddosMitigationChoiceInt := &ves_io_schema_virtual_host.DNSDDoSProfile_EnableDdosMitigation{}
						ddosMitigationChoiceInt.EnableDdosMitigation = &ves_io_schema.Empty{}
						ddosProfile.DdosMitigationChoice = ddosMitigationChoiceInt
					}

				}

			}
		}

	}

	//irules
	if v, ok := d.GetOk("irules"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		irulesInt := make([]*ves_io_schema_views.ObjectRefType, len(sl))
		createSpec.Irules = irulesInt
		for i, ps := range sl {
			if ps != nil {

				iMapToStrVal := ps.(map[string]interface{})
				irulesInt[i] = &ves_io_schema_views.ObjectRefType{}

				if v, ok := iMapToStrVal["name"]; ok && !isIntfNil(v) {
					irulesInt[i].Name = v.(string)
				}

				if v, ok := iMapToStrVal["namespace"]; ok && !isIntfNil(v) {
					irulesInt[i].Namespace = v.(string)
				}

				if v, ok := iMapToStrVal["tenant"]; ok && !isIntfNil(v) {
					irulesInt[i].Tenant = v.(string)
				}

			}
		}

	}

	//lb_algorithm
	if v, ok := d.GetOk("lb_algorithm"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		lbAlgorithm := &ves_io_schema_dns_proxy.LBAlgorithmType{}
		createSpec.LbAlgorithm = lbAlgorithm
		for _, set := range sl {
			if set != nil {
				lbAlgorithmMapStrToI := set.(map[string]interface{})

				lbAlgorithmChoiceTypeFound := false

				if v, ok := lbAlgorithmMapStrToI["round_robin"]; ok && !isIntfNil(v) && !lbAlgorithmChoiceTypeFound {

					lbAlgorithmChoiceTypeFound = true

					if v.(bool) {
						lbAlgorithmChoiceInt := &ves_io_schema_dns_proxy.LBAlgorithmType_RoundRobin{}
						lbAlgorithmChoiceInt.RoundRobin = &ves_io_schema.Empty{}
						lbAlgorithm.LbAlgorithmChoice = lbAlgorithmChoiceInt
					}

				}

			}
		}

	}

	//origin_servers
	if v, ok := d.GetOk("origin_servers"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		originServers := &ves_io_schema_dns_proxy.OriginServers{}
		createSpec.OriginServers = originServers
		for _, set := range sl {
			if set != nil {
				originServersMapStrToI := set.(map[string]interface{})

				if v, ok := originServersMapStrToI["health_checks"]; ok && !isIntfNil(v) {

					sl := v.([]interface{})
					healthChecks := &ves_io_schema_dns_proxy.HealthChecks{}
					originServers.HealthChecks = healthChecks
					for _, set := range sl {
						if set != nil {
							healthChecksMapStrToI := set.(map[string]interface{})

							if v, ok := healthChecksMapStrToI["health_check"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								healthCheck := make([]*ves_io_schema_dns_proxy.HealthCheckType, len(sl))
								healthChecks.HealthCheck = healthCheck
								for i, set := range sl {
									if set != nil {
										healthCheck[i] = &ves_io_schema_dns_proxy.HealthCheckType{}
										healthCheckMapStrToI := set.(map[string]interface{})

										choiceTypeFound := false

										if v, ok := healthCheckMapStrToI["dns_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_DnsHealthCheck{}
											choiceInt.DnsHealthCheck = &ves_io_schema_healthcheck.DnsHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_rcode"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedRcode = ves_io_schema_healthcheck.DNSResponseRcodeType(ves_io_schema_healthcheck.DNSResponseRcodeType_value[v.(string)])

													}

													if v, ok := cs["expected_record_type"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedRecordType = ves_io_schema_healthcheck.DNSResponseRecordType(ves_io_schema_healthcheck.DNSResponseRecordType_value[v.(string)])

													}

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["query_name"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.QueryName = v.(string)

													}

													if v, ok := cs["query_type"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.QueryType = ves_io_schema_healthcheck.DNSQueryType(ves_io_schema_healthcheck.DNSQueryType_value[v.(string)])

													}

													if v, ok := cs["reverse"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.Reverse = v.(bool)

													}

												}
											}

										}

										if v, ok := healthCheckMapStrToI["icmp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true

											if v.(bool) {
												choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_IcmpHealthCheck{}
												choiceInt.IcmpHealthCheck = &ves_io_schema.Empty{}
												healthCheck[i].Choice = choiceInt
											}

										}

										if v, ok := healthCheckMapStrToI["tcp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_TcpHealthCheck{}
											choiceInt.TcpHealthCheck = &ves_io_schema_healthcheck.DnsProxyTcpHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.TcpHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["send_payload"]; ok && !isIntfNil(v) {

														choiceInt.TcpHealthCheck.SendPayload = v.(string)

													}

												}
											}

										}

										if v, ok := healthCheckMapStrToI["udp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_UdpHealthCheck{}
											choiceInt.UdpHealthCheck = &ves_io_schema_healthcheck.DnsProxyUdpHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.UdpHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["send_payload"]; ok && !isIntfNil(v) {

														choiceInt.UdpHealthCheck.SendPayload = v.(string)

													}

												}
											}

										}

									}
								}

							}

							if w, ok := healthChecksMapStrToI["healthy_threshold"]; ok && !isIntfNil(w) {
								healthChecks.HealthyThreshold = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["interval"]; ok && !isIntfNil(w) {
								healthChecks.Interval = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["jitter"]; ok && !isIntfNil(w) {
								healthChecks.Jitter = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["jitter_percent"]; ok && !isIntfNil(w) {
								healthChecks.JitterPercent = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["timeout"]; ok && !isIntfNil(w) {
								healthChecks.Timeout = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["unhealthy_threshold"]; ok && !isIntfNil(w) {
								healthChecks.UnhealthyThreshold = uint32(w.(int))
							}

						}
					}

				}

				if v, ok := originServersMapStrToI["origin_servers"]; ok && !isIntfNil(v) {

					sl := v.([]interface{})
					originServers := make([]*ves_io_schema_dns_proxy.OriginServerType, len(sl))
					
					for i, set := range sl {
						if set != nil {
							originServers[i] = &ves_io_schema_dns_proxy.OriginServerType{}
							originServersMapStrToI := set.(map[string]interface{})

							choiceTypeFound := false

							if v, ok := originServersMapStrToI["k8s_service"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_K8SService{}
								choiceInt.K8SService = &ves_io_schema_views_origin_pool.OriginServerK8SService{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										networkChoiceTypeFound := false

										if v, ok := cs["inside_network"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_InsideNetwork{}
												networkChoiceInt.InsideNetwork = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["outside_network"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_OutsideNetwork{}
												networkChoiceInt.OutsideNetwork = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["vk8s_networks"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_Vk8SNetworks{}
												networkChoiceInt.Vk8SNetworks = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["protocol"]; ok && !isIntfNil(v) {

											choiceInt.K8SService.Protocol = ves_io_schema_views_origin_pool.ProtocolType(ves_io_schema_views_origin_pool.ProtocolType_value[v.(string)])

										}

										serviceInfoTypeFound := false

										if v, ok := cs["service_name"]; ok && !isIntfNil(v) && !serviceInfoTypeFound {

											serviceInfoTypeFound = true
											serviceInfoInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_ServiceName{}

											choiceInt.K8SService.ServiceInfo = serviceInfoInt

											serviceInfoInt.ServiceName = v.(string)

										}

										if v, ok := cs["service_selector"]; ok && !isIntfNil(v) && !serviceInfoTypeFound {

											serviceInfoTypeFound = true
											serviceInfoInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_ServiceSelector{}
											serviceInfoInt.ServiceSelector = &ves_io_schema.LabelSelectorType{}
											choiceInt.K8SService.ServiceInfo = serviceInfoInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expressions"]; ok && !isIntfNil(v) {

														ls := make([]string, len(v.([]interface{})))
														for i, v := range v.([]interface{}) {
															if v == nil {
																return fmt.Errorf("please provide valid non-empty string value of field expressions")
															}
															if str, ok := v.(string); ok {
																ls[i] = str
															}
														}
														serviceInfoInt.ServiceSelector.Expressions = ls

													}

												}
											}

										}

										if v, ok := cs["site_locator"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											siteLocator := &ves_io_schema_views.SiteLocator{}
											choiceInt.K8SService.SiteLocator = siteLocator
											for _, set := range sl {
												if set != nil {
													siteLocatorMapStrToI := set.(map[string]interface{})

													choiceTypeFound := false

													if v, ok := siteLocatorMapStrToI["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceInt := &ves_io_schema_views.SiteLocator_Site{}
														choiceInt.Site = &ves_io_schema_views.ObjectRefType{}
														siteLocator.Choice = choiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Tenant = v.(string)

																}

															}
														}

													}

													if v, ok := siteLocatorMapStrToI["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceInt := &ves_io_schema_views.SiteLocator_VirtualSite{}
														choiceInt.VirtualSite = &ves_io_schema_views.ObjectRefType{}
														siteLocator.Choice = choiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Tenant = v.(string)

																}

															}
														}

													}

												}
											}

										}

										if v, ok := cs["snat_pool"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											snatPool := &ves_io_schema_views.SnatPoolConfiguration{}
											choiceInt.K8SService.SnatPool = snatPool
											for _, set := range sl {
												if set != nil {
													snatPoolMapStrToI := set.(map[string]interface{})

													snatPoolChoiceTypeFound := false

													if v, ok := snatPoolMapStrToI["no_snat_pool"]; ok && !isIntfNil(v) && !snatPoolChoiceTypeFound {

														snatPoolChoiceTypeFound = true

														if v.(bool) {
															snatPoolChoiceInt := &ves_io_schema_views.SnatPoolConfiguration_NoSnatPool{}
															snatPoolChoiceInt.NoSnatPool = &ves_io_schema.Empty{}
															snatPool.SnatPoolChoice = snatPoolChoiceInt
														}

													}

													if v, ok := snatPoolMapStrToI["snat_pool"]; ok && !isIntfNil(v) && !snatPoolChoiceTypeFound {

														snatPoolChoiceTypeFound = true
														snatPoolChoiceInt := &ves_io_schema_views.SnatPoolConfiguration_SnatPool{}
														snatPoolChoiceInt.SnatPool = &ves_io_schema_views.PrefixStringListType{}
														snatPool.SnatPoolChoice = snatPoolChoiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["ipv6_prefixes"]; ok && !isIntfNil(v) {

																	ls := make([]string, len(v.([]interface{})))
																	for i, v := range v.([]interface{}) {
																		if v == nil {
																			return fmt.Errorf("please provide valid non-empty string value of field ipv6_prefixes")
																		}
																		if str, ok := v.(string); ok {
																			ls[i] = str
																		}
																	}
																	snatPoolChoiceInt.SnatPool.Ipv6Prefixes = ls

																}

																if v, ok := cs["prefixes"]; ok && !isIntfNil(v) {

																	ls := make([]string, len(v.([]interface{})))
																	for i, v := range v.([]interface{}) {
																		if v == nil {
																			return fmt.Errorf("please provide valid non-empty string value of field prefixes")
																		}
																		if str, ok := v.(string); ok {
																			ls[i] = str
																		}
																	}
																	snatPoolChoiceInt.SnatPool.Prefixes = ls

																}

															}
														}

													}

												}
											}

										}

									}
								}

							}

							if v, ok := originServersMapStrToI["public_ip"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_PublicIp{}
								choiceInt.PublicIp = &ves_io_schema_views_origin_pool.OriginServerPublicIP{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										publicIpChoiceTypeFound := false

										if v, ok := cs["ip"]; ok && !isIntfNil(v) && !publicIpChoiceTypeFound {

											publicIpChoiceTypeFound = true
											publicIpChoiceInt := &ves_io_schema_views_origin_pool.OriginServerPublicIP_Ip{}

											choiceInt.PublicIp.PublicIpChoice = publicIpChoiceInt

											publicIpChoiceInt.Ip = v.(string)

										}

										if v, ok := cs["ipv6"]; ok && !isIntfNil(v) && !publicIpChoiceTypeFound {

											publicIpChoiceTypeFound = true
											publicIpChoiceInt := &ves_io_schema_views_origin_pool.OriginServerPublicIP_Ipv6{}

											choiceInt.PublicIp.PublicIpChoice = publicIpChoiceInt

											publicIpChoiceInt.Ipv6 = v.(string)

										}

									}
								}

							}

							if v, ok := originServersMapStrToI["public_name"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_PublicName{}
								choiceInt.PublicName = &ves_io_schema_views_origin_pool.OriginServerPublicName{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										if v, ok := cs["dns_name"]; ok && !isIntfNil(v) {

											choiceInt.PublicName.DnsName = v.(string)

										}

										if v, ok := cs["refresh_interval"]; ok && !isIntfNil(v) {

											choiceInt.PublicName.RefreshInterval = uint32(v.(int))

										}

									}
								}

							}

							proximityChoiceTypeFound := false

							if v, ok := originServersMapStrToI["no_preference"]; ok && !isIntfNil(v) && !proximityChoiceTypeFound {

								proximityChoiceTypeFound = true

								if v.(bool) {
									proximityChoiceInt := &ves_io_schema_dns_proxy.OriginServerType_NoPreference{}
									proximityChoiceInt.NoPreference = &ves_io_schema.Empty{}
									originServers[i].ProximityChoice = proximityChoiceInt
								}

							}

							if v, ok := originServersMapStrToI["site_preferences"]; ok && !isIntfNil(v) && !proximityChoiceTypeFound {

								proximityChoiceTypeFound = true
								proximityChoiceInt := &ves_io_schema_dns_proxy.OriginServerType_SitePreferences{}
								proximityChoiceInt.SitePreferences = &ves_io_schema_views.SiteReferenceListType{}
								originServers[i].ProximityChoice = proximityChoiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										if v, ok := cs["refs"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											refsInt := make([]*ves_io_schema_views.ObjectRefType, len(sl))
											proximityChoiceInt.SitePreferences.Refs = refsInt
											for i, ps := range sl {
												if ps != nil {

													rMapToStrVal := ps.(map[string]interface{})
													refsInt[i] = &ves_io_schema_views.ObjectRefType{}

													if v, ok := rMapToStrVal["name"]; ok && !isIntfNil(v) {
														refsInt[i].Name = v.(string)
													}

													if v, ok := rMapToStrVal["namespace"]; ok && !isIntfNil(v) {
														refsInt[i].Namespace = v.(string)
													}

													if v, ok := rMapToStrVal["tenant"]; ok && !isIntfNil(v) {
														refsInt[i].Tenant = v.(string)
													}

												}
											}

										}

									}
								}

							}

						}
					}

				}

			}
		}

	}

	//protocol_inspection
	if v, ok := d.GetOk("protocol_inspection"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		protocolInspectionInt := &ves_io_schema_views.ObjectRefType{}
		createSpec.ProtocolInspection = protocolInspectionInt

		for _, set := range sl {
			if set != nil {
				piMapToStrVal := set.(map[string]interface{})
				if val, ok := piMapToStrVal["name"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Name = val.(string)
				}
				if val, ok := piMapToStrVal["namespace"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Namespace = val.(string)
				}

				if val, ok := piMapToStrVal["tenant"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Tenant = val.(string)
				}
			}
		}

	}

	//proxy_advertisement
	if v, ok := d.GetOk("proxy_advertisement"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		proxyAdvertisement := &ves_io_schema_dns_proxy.ProxyAdvertisementType{}
		createSpec.ProxyAdvertisement = proxyAdvertisement
		for _, set := range sl {
			if set != nil {
				proxyAdvertisementMapStrToI := set.(map[string]interface{})

				advertiseChoiceTypeFound := false

				if v, ok := proxyAdvertisementMapStrToI["advertise_custom"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true
					advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseCustom{}
					advertiseChoiceInt.AdvertiseCustom = &ves_io_schema_views.AdvertiseCustom{}
					proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt

					sl := v.([]interface{})
					for _, set := range sl {
						if set != nil {
							cs := set.(map[string]interface{})

							if v, ok := cs["advertise_where"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								advertiseWhere := make([]*ves_io_schema_views.WhereType, len(sl))
								advertiseChoiceInt.AdvertiseCustom.AdvertiseWhere = advertiseWhere
								for i, set := range sl {
									if set != nil {
										advertiseWhere[i] = &ves_io_schema_views.WhereType{}
										advertiseWhereMapStrToI := set.(map[string]interface{})

										choiceTypeFound := false

										if v, ok := advertiseWhereMapStrToI["advertise_on_public"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_AdvertiseOnPublic{}
											choiceInt.AdvertiseOnPublic = &ves_io_schema_views.AdvertisePublic{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["public_ip"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														publicIp := &ves_io_schema_views.ObjectRefType{}
														choiceInt.AdvertiseOnPublic.PublicIp = publicIp
														for _, set := range sl {
															if set != nil {
																publicIpMapStrToI := set.(map[string]interface{})

																if w, ok := publicIpMapStrToI["name"]; ok && !isIntfNil(w) {
																	publicIp.Name = w.(string)
																}

																if w, ok := publicIpMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	publicIp.Namespace = w.(string)
																}

																if w, ok := publicIpMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	publicIp.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_Site{}
											choiceInt.Site = &ves_io_schema_views.WhereSite{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.Site.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.Site.Ipv6 = v.(string)

													}

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.Site.Network = ves_io_schema_views.SiteNetwork(ves_io_schema_views.SiteNetwork_value[v.(string)])

													}

													if v, ok := cs["site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														site := &ves_io_schema_views.ObjectRefType{}
														choiceInt.Site.Site = site
														for _, set := range sl {
															if set != nil {
																siteMapStrToI := set.(map[string]interface{})

																if w, ok := siteMapStrToI["name"]; ok && !isIntfNil(w) {
																	site.Name = w.(string)
																}

																if w, ok := siteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	site.Namespace = w.(string)
																}

																if w, ok := siteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	site.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["site_segment"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_SiteSegment{}
											choiceInt.SiteSegment = &ves_io_schema_views.WhereSiteSegment{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.SiteSegment.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.SiteSegment.Ipv6 = v.(string)

													}

													if v, ok := cs["segment"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														segment := &ves_io_schema_views.ObjectRefType{}
														choiceInt.SiteSegment.Segment = segment
														for _, set := range sl {
															if set != nil {
																segmentMapStrToI := set.(map[string]interface{})

																if w, ok := segmentMapStrToI["name"]; ok && !isIntfNil(w) {
																	segment.Name = w.(string)
																}

																if w, ok := segmentMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	segment.Namespace = w.(string)
																}

																if w, ok := segmentMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	segment.Tenant = w.(string)
																}

															}
														}

													}

													if v, ok := cs["site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														site := &ves_io_schema_views.ObjectRefType{}
														choiceInt.SiteSegment.Site = site
														for _, set := range sl {
															if set != nil {
																siteMapStrToI := set.(map[string]interface{})

																if w, ok := siteMapStrToI["name"]; ok && !isIntfNil(w) {
																	site.Name = w.(string)
																}

																if w, ok := siteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	site.Namespace = w.(string)
																}

																if w, ok := siteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	site.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_network"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualNetwork{}
											choiceInt.VirtualNetwork = &ves_io_schema_views.WhereVirtualNetwork{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													v6VipChoiceTypeFound := false

													if v, ok := cs["default_v6_vip"]; ok && !isIntfNil(v) && !v6VipChoiceTypeFound {

														v6VipChoiceTypeFound = true

														if v.(bool) {
															v6VipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_DefaultV6Vip{}
															v6VipChoiceInt.DefaultV6Vip = &ves_io_schema.Empty{}
															choiceInt.VirtualNetwork.V6VipChoice = v6VipChoiceInt
														}

													}

													if v, ok := cs["specific_v6_vip"]; ok && !isIntfNil(v) && !v6VipChoiceTypeFound {

														v6VipChoiceTypeFound = true
														v6VipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_SpecificV6Vip{}

														choiceInt.VirtualNetwork.V6VipChoice = v6VipChoiceInt

														v6VipChoiceInt.SpecificV6Vip = v.(string)

													}

													vipChoiceTypeFound := false

													if v, ok := cs["default_vip"]; ok && !isIntfNil(v) && !vipChoiceTypeFound {

														vipChoiceTypeFound = true

														if v.(bool) {
															vipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_DefaultVip{}
															vipChoiceInt.DefaultVip = &ves_io_schema.Empty{}
															choiceInt.VirtualNetwork.VipChoice = vipChoiceInt
														}

													}

													if v, ok := cs["specific_vip"]; ok && !isIntfNil(v) && !vipChoiceTypeFound {

														vipChoiceTypeFound = true
														vipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_SpecificVip{}

														choiceInt.VirtualNetwork.VipChoice = vipChoiceInt

														vipChoiceInt.SpecificVip = v.(string)

													}

													if v, ok := cs["virtual_network"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualNetwork := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualNetwork.VirtualNetwork = virtualNetwork
														for _, set := range sl {
															if set != nil {
																virtualNetworkMapStrToI := set.(map[string]interface{})

																if w, ok := virtualNetworkMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualNetwork.Name = w.(string)
																}

																if w, ok := virtualNetworkMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualNetwork.Namespace = w.(string)
																}

																if w, ok := virtualNetworkMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualNetwork.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSite{}
											choiceInt.VirtualSite = &ves_io_schema_views.WhereVirtualSite{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSite.Network = ves_io_schema_views.SiteNetwork(ves_io_schema_views.SiteNetwork_value[v.(string)])

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSite.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site_segment"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSiteSegment{}
											choiceInt.VirtualSiteSegment = &ves_io_schema_views.WhereVirtualSiteSegment{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteSegment.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteSegment.Ipv6 = v.(string)

													}

													if v, ok := cs["segment"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														segment := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteSegment.Segment = segment
														for _, set := range sl {
															if set != nil {
																segmentMapStrToI := set.(map[string]interface{})

																if w, ok := segmentMapStrToI["name"]; ok && !isIntfNil(w) {
																	segment.Name = w.(string)
																}

																if w, ok := segmentMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	segment.Namespace = w.(string)
																}

																if w, ok := segmentMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	segment.Tenant = w.(string)
																}

															}
														}

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteSegment.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site_with_vip"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSiteWithVip{}
											choiceInt.VirtualSiteWithVip = &ves_io_schema_views.WhereVirtualSiteSpecifiedVIP{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Ipv6 = v.(string)

													}

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Network = ves_io_schema_views.SiteNetworkSpecifiedVIP(ves_io_schema_views.SiteNetworkSpecifiedVIP_value[v.(string)])

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteWithVip.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["vk8s_service"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_Vk8SService{}
											choiceInt.Vk8SService = &ves_io_schema_views.WhereVK8SService{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													choiceTypeFound := false

													if v, ok := cs["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceIntNew := &ves_io_schema_views.WhereVK8SService_Site{}
														choiceIntNew.Site = &ves_io_schema_views.ObjectRefType{}
														choiceInt.Vk8SService.Choice = choiceIntNew

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Tenant = v.(string)

																}

															}
														}

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceIntNew := &ves_io_schema_views.WhereVK8SService_VirtualSite{}
														choiceIntNew.VirtualSite = &ves_io_schema_views.ObjectRefType{}
														choiceInt.Vk8SService.Choice = choiceIntNew

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Tenant = v.(string)

																}

															}
														}

													}

												}
											}

										}

										portChoiceTypeFound := false

										if v, ok := advertiseWhereMapStrToI["port"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true
											portChoiceInt := &ves_io_schema_views.WhereType_Port{}

											advertiseWhere[i].PortChoice = portChoiceInt

											portChoiceInt.Port = uint32(v.(int))

										}

										if v, ok := advertiseWhereMapStrToI["port_ranges"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true
											portChoiceInt := &ves_io_schema_views.WhereType_PortRanges{}

											advertiseWhere[i].PortChoice = portChoiceInt

											portChoiceInt.PortRanges = v.(string)

										}

										if v, ok := advertiseWhereMapStrToI["use_default_port"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true

											if v.(bool) {
												portChoiceInt := &ves_io_schema_views.WhereType_UseDefaultPort{}
												portChoiceInt.UseDefaultPort = &ves_io_schema.Empty{}
												advertiseWhere[i].PortChoice = portChoiceInt
											}

										}

									}
								}

							}

						}
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["advertise_on_public"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true
					advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseOnPublic{}
					advertiseChoiceInt.AdvertiseOnPublic = &ves_io_schema_views.AdvertisePublic{}
					proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt

					sl := v.([]interface{})
					for _, set := range sl {
						if set != nil {
							cs := set.(map[string]interface{})

							if v, ok := cs["public_ip"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								publicIp := &ves_io_schema_views.ObjectRefType{}
								advertiseChoiceInt.AdvertiseOnPublic.PublicIp = publicIp
								for _, set := range sl {
									if set != nil {
										publicIpMapStrToI := set.(map[string]interface{})

										if w, ok := publicIpMapStrToI["name"]; ok && !isIntfNil(w) {
											publicIp.Name = w.(string)
										}

										if w, ok := publicIpMapStrToI["namespace"]; ok && !isIntfNil(w) {
											publicIp.Namespace = w.(string)
										}

										if w, ok := publicIpMapStrToI["tenant"]; ok && !isIntfNil(w) {
											publicIp.Tenant = w.(string)
										}

									}
								}

							}

						}
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["advertise_on_public_default_vip"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true

					if v.(bool) {
						advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseOnPublicDefaultVip{}
						advertiseChoiceInt.AdvertiseOnPublicDefaultVip = &ves_io_schema.Empty{}
						proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["do_not_advertise"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true

					if v.(bool) {
						advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_DoNotAdvertise{}
						advertiseChoiceInt.DoNotAdvertise = &ves_io_schema.Empty{}
						proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt
					}

				}

			}
		}

	}

	//transport_type
	if v, ok := d.GetOk("transport_type"); ok && !isIntfNil(v) {

		createSpec.TransportType = ves_io_schema_dns_proxy.TransportType(ves_io_schema_dns_proxy.TransportType_value[v.(string)])

	}

	log.Printf("[DEBUG] Creating Volterra DnsProxy object with struct: %+v", createReq)

	createDnsProxyResp, err := client.CreateObject(context.Background(), ves_io_schema_dns_proxy.ObjectType, createReq)
	if err != nil {
		return fmt.Errorf("error creating DnsProxy: %s", err)
	}
	d.SetId(createDnsProxyResp.GetObjSystemMetadata().GetUid())

	return resourceVolterraDnsProxyRead(d, meta)
}

func resourceVolterraDnsProxyRead(d *schema.ResourceData, meta interface{}) error {
	client := meta.(*APIClient)
	name := d.Get("name").(string)
	namespace := d.Get("namespace").(string)

	resp, err := client.GetObject(context.Background(), ves_io_schema_dns_proxy.ObjectType, namespace, name)
	if err != nil {
		if strings.Contains(err.Error(), "status code 404") {
			log.Printf("[INFO] DnsProxy %s no longer exists", d.Id())
			d.SetId("")
			return nil
		}
		return fmt.Errorf("Error finding Volterra DnsProxy %q: %s", d.Id(), err)
	}
	return setDnsProxyFields(client, d, resp)
}

func setDnsProxyFields(client *APIClient, d *schema.ResourceData, resp vesapi.GetObjectResponse) error {
	metadata := resp.GetObjMetadata()

	d.Set("annotations", metadata.GetAnnotations())

	d.Set("description", metadata.GetDescription())

	d.Set("disable", metadata.GetDisable())

	d.Set("labels", metadata.GetLabels())

	d.Set("name", metadata.GetName())

	d.Set("namespace", metadata.GetNamespace())

	return nil
}

// resourceVolterraDnsProxyUpdate updates DnsProxy resource
func resourceVolterraDnsProxyUpdate(d *schema.ResourceData, meta interface{}) error {
	client := meta.(*APIClient)

	updateMeta := &ves_io_schema.ObjectReplaceMetaType{}
	updateSpec := &ves_io_schema_dns_proxy.ReplaceSpecType{}
	updateReq := &ves_io_schema_dns_proxy.ReplaceRequest{
		Metadata: updateMeta,
		Spec:     updateSpec,
	}

	if v, ok := d.GetOk("annotations"); ok && !isIntfNil(v) {

		ms := map[string]string{}

		for k, v := range v.(map[string]interface{}) {
			val := v.(string)
			ms[k] = val
		}
		updateMeta.Annotations = ms
	}

	if v, ok := d.GetOk("description"); ok && !isIntfNil(v) {
		updateMeta.Description =
			v.(string)
	}

	if v, ok := d.GetOk("disable"); ok && !isIntfNil(v) {
		updateMeta.Disable =
			v.(bool)
	}

	if v, ok := d.GetOk("labels"); ok && !isIntfNil(v) {

		ms := map[string]string{}

		for k, v := range v.(map[string]interface{}) {
			val := v.(string)
			ms[k] = val
		}
		updateMeta.Labels = ms
	}

	if v, ok := d.GetOk("name"); ok && !isIntfNil(v) {
		updateMeta.Name =
			v.(string)
	}

	if v, ok := d.GetOk("namespace"); ok && !isIntfNil(v) {
		updateMeta.Namespace =
			v.(string)
	}

	if v, ok := d.GetOk("cache_profile"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		cacheProfile := &ves_io_schema_virtual_host.DNSCacheProfile{}
		updateSpec.CacheProfile = cacheProfile
		for _, set := range sl {
			if set != nil {
				cacheProfileMapStrToI := set.(map[string]interface{})

				cacheProfileChoiceTypeFound := false

				if v, ok := cacheProfileMapStrToI["cache_size"]; ok && !isIntfNil(v) && !cacheProfileChoiceTypeFound {

					cacheProfileChoiceTypeFound = true
					cacheProfileChoiceInt := &ves_io_schema_virtual_host.DNSCacheProfile_CacheSize{}

					cacheProfile.CacheProfileChoice = cacheProfileChoiceInt

					cacheProfileChoiceInt.CacheSize = uint32(v.(int))

				}

				if v, ok := cacheProfileMapStrToI["disable_cache_profile"]; ok && !isIntfNil(v) && !cacheProfileChoiceTypeFound {

					cacheProfileChoiceTypeFound = true

					if v.(bool) {
						cacheProfileChoiceInt := &ves_io_schema_virtual_host.DNSCacheProfile_DisableCacheProfile{}
						cacheProfileChoiceInt.DisableCacheProfile = &ves_io_schema.Empty{}
						cacheProfile.CacheProfileChoice = cacheProfileChoiceInt
					}

				}

			}
		}

	}

	if v, ok := d.GetOk("ddos_profile"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		ddosProfile := &ves_io_schema_virtual_host.DNSDDoSProfile{}
		updateSpec.DdosProfile = ddosProfile
		for _, set := range sl {
			if set != nil {
				ddosProfileMapStrToI := set.(map[string]interface{})

				ddosMitigationChoiceTypeFound := false

				if v, ok := ddosProfileMapStrToI["disable_ddos_mitigation"]; ok && !isIntfNil(v) && !ddosMitigationChoiceTypeFound {

					ddosMitigationChoiceTypeFound = true

					if v.(bool) {
						ddosMitigationChoiceInt := &ves_io_schema_virtual_host.DNSDDoSProfile_DisableDdosMitigation{}
						ddosMitigationChoiceInt.DisableDdosMitigation = &ves_io_schema.Empty{}
						ddosProfile.DdosMitigationChoice = ddosMitigationChoiceInt
					}

				}

				if v, ok := ddosProfileMapStrToI["enable_ddos_mitigation"]; ok && !isIntfNil(v) && !ddosMitigationChoiceTypeFound {

					ddosMitigationChoiceTypeFound = true

					if v.(bool) {
						ddosMitigationChoiceInt := &ves_io_schema_virtual_host.DNSDDoSProfile_EnableDdosMitigation{}
						ddosMitigationChoiceInt.EnableDdosMitigation = &ves_io_schema.Empty{}
						ddosProfile.DdosMitigationChoice = ddosMitigationChoiceInt
					}

				}

			}
		}

	}

	if v, ok := d.GetOk("irules"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		irulesInt := make([]*ves_io_schema_views.ObjectRefType, len(sl))
		updateSpec.Irules = irulesInt
		for i, ps := range sl {
			if ps != nil {

				iMapToStrVal := ps.(map[string]interface{})
				irulesInt[i] = &ves_io_schema_views.ObjectRefType{}

				if v, ok := iMapToStrVal["name"]; ok && !isIntfNil(v) {
					irulesInt[i].Name = v.(string)
				}

				if v, ok := iMapToStrVal["namespace"]; ok && !isIntfNil(v) {
					irulesInt[i].Namespace = v.(string)
				}

				if v, ok := iMapToStrVal["tenant"]; ok && !isIntfNil(v) {
					irulesInt[i].Tenant = v.(string)
				}

			}
		}

	}

	if v, ok := d.GetOk("lb_algorithm"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		lbAlgorithm := &ves_io_schema_dns_proxy.LBAlgorithmType{}
		updateSpec.LbAlgorithm = lbAlgorithm
		for _, set := range sl {
			if set != nil {
				lbAlgorithmMapStrToI := set.(map[string]interface{})

				lbAlgorithmChoiceTypeFound := false

				if v, ok := lbAlgorithmMapStrToI["round_robin"]; ok && !isIntfNil(v) && !lbAlgorithmChoiceTypeFound {

					lbAlgorithmChoiceTypeFound = true

					if v.(bool) {
						lbAlgorithmChoiceInt := &ves_io_schema_dns_proxy.LBAlgorithmType_RoundRobin{}
						lbAlgorithmChoiceInt.RoundRobin = &ves_io_schema.Empty{}
						lbAlgorithm.LbAlgorithmChoice = lbAlgorithmChoiceInt
					}

				}

			}
		}

	}

	if v, ok := d.GetOk("origin_servers"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		originServers := &ves_io_schema_dns_proxy.OriginServers{}
		updateSpec.OriginServers = originServers
		for _, set := range sl {
			if set != nil {
				originServersMapStrToI := set.(map[string]interface{})

				if v, ok := originServersMapStrToI["health_checks"]; ok && !isIntfNil(v) {

					sl := v.([]interface{})
					healthChecks := &ves_io_schema_dns_proxy.HealthChecks{}
					originServers.HealthChecks = healthChecks
					for _, set := range sl {
						if set != nil {
							healthChecksMapStrToI := set.(map[string]interface{})

							if v, ok := healthChecksMapStrToI["health_check"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								healthCheck := make([]*ves_io_schema_dns_proxy.HealthCheckType, len(sl))
								healthChecks.HealthCheck = healthCheck
								for i, set := range sl {
									if set != nil {
										healthCheck[i] = &ves_io_schema_dns_proxy.HealthCheckType{}
										healthCheckMapStrToI := set.(map[string]interface{})

										choiceTypeFound := false

										if v, ok := healthCheckMapStrToI["dns_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_DnsHealthCheck{}
											choiceInt.DnsHealthCheck = &ves_io_schema_healthcheck.DnsHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_rcode"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedRcode = ves_io_schema_healthcheck.DNSResponseRcodeType(ves_io_schema_healthcheck.DNSResponseRcodeType_value[v.(string)])

													}

													if v, ok := cs["expected_record_type"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedRecordType = ves_io_schema_healthcheck.DNSResponseRecordType(ves_io_schema_healthcheck.DNSResponseRecordType_value[v.(string)])

													}

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["query_name"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.QueryName = v.(string)

													}

													if v, ok := cs["query_type"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.QueryType = ves_io_schema_healthcheck.DNSQueryType(ves_io_schema_healthcheck.DNSQueryType_value[v.(string)])

													}

													if v, ok := cs["reverse"]; ok && !isIntfNil(v) {

														choiceInt.DnsHealthCheck.Reverse = v.(bool)

													}

												}
											}

										}

										if v, ok := healthCheckMapStrToI["icmp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true

											if v.(bool) {
												choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_IcmpHealthCheck{}
												choiceInt.IcmpHealthCheck = &ves_io_schema.Empty{}
												healthCheck[i].Choice = choiceInt
											}

										}

										if v, ok := healthCheckMapStrToI["tcp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_TcpHealthCheck{}
											choiceInt.TcpHealthCheck = &ves_io_schema_healthcheck.DnsProxyTcpHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.TcpHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["send_payload"]; ok && !isIntfNil(v) {

														choiceInt.TcpHealthCheck.SendPayload = v.(string)

													}

												}
											}

										}

										if v, ok := healthCheckMapStrToI["udp_health_check"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_dns_proxy.HealthCheckType_UdpHealthCheck{}
											choiceInt.UdpHealthCheck = &ves_io_schema_healthcheck.DnsProxyUdpHealthCheck{}
											healthCheck[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expected_response"]; ok && !isIntfNil(v) {

														choiceInt.UdpHealthCheck.ExpectedResponse = v.(string)

													}

													if v, ok := cs["send_payload"]; ok && !isIntfNil(v) {

														choiceInt.UdpHealthCheck.SendPayload = v.(string)

													}

												}
											}

										}

									}
								}

							}

							if w, ok := healthChecksMapStrToI["healthy_threshold"]; ok && !isIntfNil(w) {
								healthChecks.HealthyThreshold = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["interval"]; ok && !isIntfNil(w) {
								healthChecks.Interval = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["jitter"]; ok && !isIntfNil(w) {
								healthChecks.Jitter = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["jitter_percent"]; ok && !isIntfNil(w) {
								healthChecks.JitterPercent = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["timeout"]; ok && !isIntfNil(w) {
								healthChecks.Timeout = uint32(w.(int))
							}

							if w, ok := healthChecksMapStrToI["unhealthy_threshold"]; ok && !isIntfNil(w) {
								healthChecks.UnhealthyThreshold = uint32(w.(int))
							}

						}
					}

				}

				if v, ok := originServersMapStrToI["origin_servers"]; ok && !isIntfNil(v) {

					sl := v.([]interface{})
					originServers := make([]*ves_io_schema_dns_proxy.OriginServerType, len(sl))
					
					for i, set := range sl {
						if set != nil {
							originServers[i] = &ves_io_schema_dns_proxy.OriginServerType{}
							originServersMapStrToI := set.(map[string]interface{})

							choiceTypeFound := false

							if v, ok := originServersMapStrToI["k8s_service"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_K8SService{}
								choiceInt.K8SService = &ves_io_schema_views_origin_pool.OriginServerK8SService{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										networkChoiceTypeFound := false

										if v, ok := cs["inside_network"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_InsideNetwork{}
												networkChoiceInt.InsideNetwork = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["outside_network"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_OutsideNetwork{}
												networkChoiceInt.OutsideNetwork = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["vk8s_networks"]; ok && !isIntfNil(v) && !networkChoiceTypeFound {

											networkChoiceTypeFound = true

											if v.(bool) {
												networkChoiceInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_Vk8SNetworks{}
												networkChoiceInt.Vk8SNetworks = &ves_io_schema.Empty{}
												choiceInt.K8SService.NetworkChoice = networkChoiceInt
											}

										}

										if v, ok := cs["protocol"]; ok && !isIntfNil(v) {

											choiceInt.K8SService.Protocol = ves_io_schema_views_origin_pool.ProtocolType(ves_io_schema_views_origin_pool.ProtocolType_value[v.(string)])

										}

										serviceInfoTypeFound := false

										if v, ok := cs["service_name"]; ok && !isIntfNil(v) && !serviceInfoTypeFound {

											serviceInfoTypeFound = true
											serviceInfoInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_ServiceName{}

											choiceInt.K8SService.ServiceInfo = serviceInfoInt

											serviceInfoInt.ServiceName = v.(string)

										}

										if v, ok := cs["service_selector"]; ok && !isIntfNil(v) && !serviceInfoTypeFound {

											serviceInfoTypeFound = true
											serviceInfoInt := &ves_io_schema_views_origin_pool.OriginServerK8SService_ServiceSelector{}
											serviceInfoInt.ServiceSelector = &ves_io_schema.LabelSelectorType{}
											choiceInt.K8SService.ServiceInfo = serviceInfoInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["expressions"]; ok && !isIntfNil(v) {

														ls := make([]string, len(v.([]interface{})))
														for i, v := range v.([]interface{}) {
															if v == nil {
																return fmt.Errorf("please provide valid non-empty string value of field expressions")
															}
															if str, ok := v.(string); ok {
																ls[i] = str
															}
														}
														serviceInfoInt.ServiceSelector.Expressions = ls

													}

												}
											}

										}

										if v, ok := cs["site_locator"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											siteLocator := &ves_io_schema_views.SiteLocator{}
											choiceInt.K8SService.SiteLocator = siteLocator
											for _, set := range sl {
												if set != nil {
													siteLocatorMapStrToI := set.(map[string]interface{})

													choiceTypeFound := false

													if v, ok := siteLocatorMapStrToI["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceInt := &ves_io_schema_views.SiteLocator_Site{}
														choiceInt.Site = &ves_io_schema_views.ObjectRefType{}
														siteLocator.Choice = choiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceInt.Site.Tenant = v.(string)

																}

															}
														}

													}

													if v, ok := siteLocatorMapStrToI["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceInt := &ves_io_schema_views.SiteLocator_VirtualSite{}
														choiceInt.VirtualSite = &ves_io_schema_views.ObjectRefType{}
														siteLocator.Choice = choiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceInt.VirtualSite.Tenant = v.(string)

																}

															}
														}

													}

												}
											}

										}

										if v, ok := cs["snat_pool"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											snatPool := &ves_io_schema_views.SnatPoolConfiguration{}
											choiceInt.K8SService.SnatPool = snatPool
											for _, set := range sl {
												if set != nil {
													snatPoolMapStrToI := set.(map[string]interface{})

													snatPoolChoiceTypeFound := false

													if v, ok := snatPoolMapStrToI["no_snat_pool"]; ok && !isIntfNil(v) && !snatPoolChoiceTypeFound {

														snatPoolChoiceTypeFound = true

														if v.(bool) {
															snatPoolChoiceInt := &ves_io_schema_views.SnatPoolConfiguration_NoSnatPool{}
															snatPoolChoiceInt.NoSnatPool = &ves_io_schema.Empty{}
															snatPool.SnatPoolChoice = snatPoolChoiceInt
														}

													}

													if v, ok := snatPoolMapStrToI["snat_pool"]; ok && !isIntfNil(v) && !snatPoolChoiceTypeFound {

														snatPoolChoiceTypeFound = true
														snatPoolChoiceInt := &ves_io_schema_views.SnatPoolConfiguration_SnatPool{}
														snatPoolChoiceInt.SnatPool = &ves_io_schema_views.PrefixStringListType{}
														snatPool.SnatPoolChoice = snatPoolChoiceInt

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["ipv6_prefixes"]; ok && !isIntfNil(v) {

																	ls := make([]string, len(v.([]interface{})))
																	for i, v := range v.([]interface{}) {
																		if v == nil {
																			return fmt.Errorf("please provide valid non-empty string value of field ipv6_prefixes")
																		}
																		if str, ok := v.(string); ok {
																			ls[i] = str
																		}
																	}
																	snatPoolChoiceInt.SnatPool.Ipv6Prefixes = ls

																}

																if v, ok := cs["prefixes"]; ok && !isIntfNil(v) {

																	ls := make([]string, len(v.([]interface{})))
																	for i, v := range v.([]interface{}) {
																		if v == nil {
																			return fmt.Errorf("please provide valid non-empty string value of field prefixes")
																		}
																		if str, ok := v.(string); ok {
																			ls[i] = str
																		}
																	}
																	snatPoolChoiceInt.SnatPool.Prefixes = ls

																}

															}
														}

													}

												}
											}

										}

									}
								}

							}

							if v, ok := originServersMapStrToI["public_ip"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_PublicIp{}
								choiceInt.PublicIp = &ves_io_schema_views_origin_pool.OriginServerPublicIP{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										publicIpChoiceTypeFound := false

										if v, ok := cs["ip"]; ok && !isIntfNil(v) && !publicIpChoiceTypeFound {

											publicIpChoiceTypeFound = true
											publicIpChoiceInt := &ves_io_schema_views_origin_pool.OriginServerPublicIP_Ip{}

											choiceInt.PublicIp.PublicIpChoice = publicIpChoiceInt

											publicIpChoiceInt.Ip = v.(string)

										}

										if v, ok := cs["ipv6"]; ok && !isIntfNil(v) && !publicIpChoiceTypeFound {

											publicIpChoiceTypeFound = true
											publicIpChoiceInt := &ves_io_schema_views_origin_pool.OriginServerPublicIP_Ipv6{}

											choiceInt.PublicIp.PublicIpChoice = publicIpChoiceInt

											publicIpChoiceInt.Ipv6 = v.(string)

										}

									}
								}

							}

							if v, ok := originServersMapStrToI["public_name"]; ok && !isIntfNil(v) && !choiceTypeFound {

								choiceTypeFound = true
								choiceInt := &ves_io_schema_dns_proxy.OriginServerType_PublicName{}
								choiceInt.PublicName = &ves_io_schema_views_origin_pool.OriginServerPublicName{}
								originServers[i].Choice = choiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										if v, ok := cs["dns_name"]; ok && !isIntfNil(v) {

											choiceInt.PublicName.DnsName = v.(string)

										}

										if v, ok := cs["refresh_interval"]; ok && !isIntfNil(v) {

											choiceInt.PublicName.RefreshInterval = uint32(v.(int))

										}

									}
								}

							}

							proximityChoiceTypeFound := false

							if v, ok := originServersMapStrToI["no_preference"]; ok && !isIntfNil(v) && !proximityChoiceTypeFound {

								proximityChoiceTypeFound = true

								if v.(bool) {
									proximityChoiceInt := &ves_io_schema_dns_proxy.OriginServerType_NoPreference{}
									proximityChoiceInt.NoPreference = &ves_io_schema.Empty{}
									originServers[i].ProximityChoice = proximityChoiceInt
								}

							}

							if v, ok := originServersMapStrToI["site_preferences"]; ok && !isIntfNil(v) && !proximityChoiceTypeFound {

								proximityChoiceTypeFound = true
								proximityChoiceInt := &ves_io_schema_dns_proxy.OriginServerType_SitePreferences{}
								proximityChoiceInt.SitePreferences = &ves_io_schema_views.SiteReferenceListType{}
								originServers[i].ProximityChoice = proximityChoiceInt

								sl := v.([]interface{})
								for _, set := range sl {
									if set != nil {
										cs := set.(map[string]interface{})

										if v, ok := cs["refs"]; ok && !isIntfNil(v) {

											sl := v.([]interface{})
											refsInt := make([]*ves_io_schema_views.ObjectRefType, len(sl))
											proximityChoiceInt.SitePreferences.Refs = refsInt
											for i, ps := range sl {
												if ps != nil {

													rMapToStrVal := ps.(map[string]interface{})
													refsInt[i] = &ves_io_schema_views.ObjectRefType{}

													if v, ok := rMapToStrVal["name"]; ok && !isIntfNil(v) {
														refsInt[i].Name = v.(string)
													}

													if v, ok := rMapToStrVal["namespace"]; ok && !isIntfNil(v) {
														refsInt[i].Namespace = v.(string)
													}

													if v, ok := rMapToStrVal["tenant"]; ok && !isIntfNil(v) {
														refsInt[i].Tenant = v.(string)
													}

												}
											}

										}

									}
								}

							}

						}
					}

				}

			}
		}

	}

	if v, ok := d.GetOk("protocol_inspection"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		protocolInspectionInt := &ves_io_schema_views.ObjectRefType{}
		updateSpec.ProtocolInspection = protocolInspectionInt

		for _, set := range sl {
			if set != nil {
				piMapToStrVal := set.(map[string]interface{})
				if val, ok := piMapToStrVal["name"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Name = val.(string)
				}
				if val, ok := piMapToStrVal["namespace"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Namespace = val.(string)
				}

				if val, ok := piMapToStrVal["tenant"]; ok && !isIntfNil(v) {
					protocolInspectionInt.Tenant = val.(string)
				}
			}
		}

	}

	if v, ok := d.GetOk("proxy_advertisement"); ok && !isIntfNil(v) {

		sl := v.([]interface{})
		proxyAdvertisement := &ves_io_schema_dns_proxy.ProxyAdvertisementType{}
		updateSpec.ProxyAdvertisement = proxyAdvertisement
		for _, set := range sl {
			if set != nil {
				proxyAdvertisementMapStrToI := set.(map[string]interface{})

				advertiseChoiceTypeFound := false

				if v, ok := proxyAdvertisementMapStrToI["advertise_custom"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true
					advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseCustom{}
					advertiseChoiceInt.AdvertiseCustom = &ves_io_schema_views.AdvertiseCustom{}
					proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt

					sl := v.([]interface{})
					for _, set := range sl {
						if set != nil {
							cs := set.(map[string]interface{})

							if v, ok := cs["advertise_where"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								advertiseWhere := make([]*ves_io_schema_views.WhereType, len(sl))
								advertiseChoiceInt.AdvertiseCustom.AdvertiseWhere = advertiseWhere
								for i, set := range sl {
									if set != nil {
										advertiseWhere[i] = &ves_io_schema_views.WhereType{}
										advertiseWhereMapStrToI := set.(map[string]interface{})

										choiceTypeFound := false

										if v, ok := advertiseWhereMapStrToI["advertise_on_public"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_AdvertiseOnPublic{}
											choiceInt.AdvertiseOnPublic = &ves_io_schema_views.AdvertisePublic{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["public_ip"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														publicIp := &ves_io_schema_views.ObjectRefType{}
														choiceInt.AdvertiseOnPublic.PublicIp = publicIp
														for _, set := range sl {
															if set != nil {
																publicIpMapStrToI := set.(map[string]interface{})

																if w, ok := publicIpMapStrToI["name"]; ok && !isIntfNil(w) {
																	publicIp.Name = w.(string)
																}

																if w, ok := publicIpMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	publicIp.Namespace = w.(string)
																}

																if w, ok := publicIpMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	publicIp.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_Site{}
											choiceInt.Site = &ves_io_schema_views.WhereSite{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.Site.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.Site.Ipv6 = v.(string)

													}

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.Site.Network = ves_io_schema_views.SiteNetwork(ves_io_schema_views.SiteNetwork_value[v.(string)])

													}

													if v, ok := cs["site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														site := &ves_io_schema_views.ObjectRefType{}
														choiceInt.Site.Site = site
														for _, set := range sl {
															if set != nil {
																siteMapStrToI := set.(map[string]interface{})

																if w, ok := siteMapStrToI["name"]; ok && !isIntfNil(w) {
																	site.Name = w.(string)
																}

																if w, ok := siteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	site.Namespace = w.(string)
																}

																if w, ok := siteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	site.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["site_segment"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_SiteSegment{}
											choiceInt.SiteSegment = &ves_io_schema_views.WhereSiteSegment{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.SiteSegment.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.SiteSegment.Ipv6 = v.(string)

													}

													if v, ok := cs["segment"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														segment := &ves_io_schema_views.ObjectRefType{}
														choiceInt.SiteSegment.Segment = segment
														for _, set := range sl {
															if set != nil {
																segmentMapStrToI := set.(map[string]interface{})

																if w, ok := segmentMapStrToI["name"]; ok && !isIntfNil(w) {
																	segment.Name = w.(string)
																}

																if w, ok := segmentMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	segment.Namespace = w.(string)
																}

																if w, ok := segmentMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	segment.Tenant = w.(string)
																}

															}
														}

													}

													if v, ok := cs["site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														site := &ves_io_schema_views.ObjectRefType{}
														choiceInt.SiteSegment.Site = site
														for _, set := range sl {
															if set != nil {
																siteMapStrToI := set.(map[string]interface{})

																if w, ok := siteMapStrToI["name"]; ok && !isIntfNil(w) {
																	site.Name = w.(string)
																}

																if w, ok := siteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	site.Namespace = w.(string)
																}

																if w, ok := siteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	site.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_network"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualNetwork{}
											choiceInt.VirtualNetwork = &ves_io_schema_views.WhereVirtualNetwork{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													v6VipChoiceTypeFound := false

													if v, ok := cs["default_v6_vip"]; ok && !isIntfNil(v) && !v6VipChoiceTypeFound {

														v6VipChoiceTypeFound = true

														if v.(bool) {
															v6VipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_DefaultV6Vip{}
															v6VipChoiceInt.DefaultV6Vip = &ves_io_schema.Empty{}
															choiceInt.VirtualNetwork.V6VipChoice = v6VipChoiceInt
														}

													}

													if v, ok := cs["specific_v6_vip"]; ok && !isIntfNil(v) && !v6VipChoiceTypeFound {

														v6VipChoiceTypeFound = true
														v6VipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_SpecificV6Vip{}

														choiceInt.VirtualNetwork.V6VipChoice = v6VipChoiceInt

														v6VipChoiceInt.SpecificV6Vip = v.(string)

													}

													vipChoiceTypeFound := false

													if v, ok := cs["default_vip"]; ok && !isIntfNil(v) && !vipChoiceTypeFound {

														vipChoiceTypeFound = true

														if v.(bool) {
															vipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_DefaultVip{}
															vipChoiceInt.DefaultVip = &ves_io_schema.Empty{}
															choiceInt.VirtualNetwork.VipChoice = vipChoiceInt
														}

													}

													if v, ok := cs["specific_vip"]; ok && !isIntfNil(v) && !vipChoiceTypeFound {

														vipChoiceTypeFound = true
														vipChoiceInt := &ves_io_schema_views.WhereVirtualNetwork_SpecificVip{}

														choiceInt.VirtualNetwork.VipChoice = vipChoiceInt

														vipChoiceInt.SpecificVip = v.(string)

													}

													if v, ok := cs["virtual_network"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualNetwork := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualNetwork.VirtualNetwork = virtualNetwork
														for _, set := range sl {
															if set != nil {
																virtualNetworkMapStrToI := set.(map[string]interface{})

																if w, ok := virtualNetworkMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualNetwork.Name = w.(string)
																}

																if w, ok := virtualNetworkMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualNetwork.Namespace = w.(string)
																}

																if w, ok := virtualNetworkMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualNetwork.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSite{}
											choiceInt.VirtualSite = &ves_io_schema_views.WhereVirtualSite{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSite.Network = ves_io_schema_views.SiteNetwork(ves_io_schema_views.SiteNetwork_value[v.(string)])

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSite.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site_segment"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSiteSegment{}
											choiceInt.VirtualSiteSegment = &ves_io_schema_views.WhereVirtualSiteSegment{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteSegment.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteSegment.Ipv6 = v.(string)

													}

													if v, ok := cs["segment"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														segment := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteSegment.Segment = segment
														for _, set := range sl {
															if set != nil {
																segmentMapStrToI := set.(map[string]interface{})

																if w, ok := segmentMapStrToI["name"]; ok && !isIntfNil(w) {
																	segment.Name = w.(string)
																}

																if w, ok := segmentMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	segment.Namespace = w.(string)
																}

																if w, ok := segmentMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	segment.Tenant = w.(string)
																}

															}
														}

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteSegment.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["virtual_site_with_vip"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_VirtualSiteWithVip{}
											choiceInt.VirtualSiteWithVip = &ves_io_schema_views.WhereVirtualSiteSpecifiedVIP{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													if v, ok := cs["ip"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Ip = v.(string)

													}

													if v, ok := cs["ipv6"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Ipv6 = v.(string)

													}

													if v, ok := cs["network"]; ok && !isIntfNil(v) {

														choiceInt.VirtualSiteWithVip.Network = ves_io_schema_views.SiteNetworkSpecifiedVIP(ves_io_schema_views.SiteNetworkSpecifiedVIP_value[v.(string)])

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) {

														sl := v.([]interface{})
														virtualSite := &ves_io_schema_views.ObjectRefType{}
														choiceInt.VirtualSiteWithVip.VirtualSite = virtualSite
														for _, set := range sl {
															if set != nil {
																virtualSiteMapStrToI := set.(map[string]interface{})

																if w, ok := virtualSiteMapStrToI["name"]; ok && !isIntfNil(w) {
																	virtualSite.Name = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["namespace"]; ok && !isIntfNil(w) {
																	virtualSite.Namespace = w.(string)
																}

																if w, ok := virtualSiteMapStrToI["tenant"]; ok && !isIntfNil(w) {
																	virtualSite.Tenant = w.(string)
																}

															}
														}

													}

												}
											}

										}

										if v, ok := advertiseWhereMapStrToI["vk8s_service"]; ok && !isIntfNil(v) && !choiceTypeFound {

											choiceTypeFound = true
											choiceInt := &ves_io_schema_views.WhereType_Vk8SService{}
											choiceInt.Vk8SService = &ves_io_schema_views.WhereVK8SService{}
											advertiseWhere[i].Choice = choiceInt

											sl := v.([]interface{})
											for _, set := range sl {
												if set != nil {
													cs := set.(map[string]interface{})

													choiceTypeFound := false

													if v, ok := cs["site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceIntNew := &ves_io_schema_views.WhereVK8SService_Site{}
														choiceIntNew.Site = &ves_io_schema_views.ObjectRefType{}
														choiceInt.Vk8SService.Choice = choiceIntNew

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceIntNew.Site.Tenant = v.(string)

																}

															}
														}

													}

													if v, ok := cs["virtual_site"]; ok && !isIntfNil(v) && !choiceTypeFound {

														choiceTypeFound = true
														choiceIntNew := &ves_io_schema_views.WhereVK8SService_VirtualSite{}
														choiceIntNew.VirtualSite = &ves_io_schema_views.ObjectRefType{}
														choiceInt.Vk8SService.Choice = choiceIntNew

														sl := v.([]interface{})
														for _, set := range sl {
															if set != nil {
																cs := set.(map[string]interface{})

																if v, ok := cs["name"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Name = v.(string)

																}

																if v, ok := cs["namespace"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Namespace = v.(string)

																}

																if v, ok := cs["tenant"]; ok && !isIntfNil(v) {

																	choiceIntNew.VirtualSite.Tenant = v.(string)

																}

															}
														}

													}

												}
											}

										}

										portChoiceTypeFound := false

										if v, ok := advertiseWhereMapStrToI["port"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true
											portChoiceInt := &ves_io_schema_views.WhereType_Port{}

											advertiseWhere[i].PortChoice = portChoiceInt

											portChoiceInt.Port = uint32(v.(int))

										}

										if v, ok := advertiseWhereMapStrToI["port_ranges"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true
											portChoiceInt := &ves_io_schema_views.WhereType_PortRanges{}

											advertiseWhere[i].PortChoice = portChoiceInt

											portChoiceInt.PortRanges = v.(string)

										}

										if v, ok := advertiseWhereMapStrToI["use_default_port"]; ok && !isIntfNil(v) && !portChoiceTypeFound {

											portChoiceTypeFound = true

											if v.(bool) {
												portChoiceInt := &ves_io_schema_views.WhereType_UseDefaultPort{}
												portChoiceInt.UseDefaultPort = &ves_io_schema.Empty{}
												advertiseWhere[i].PortChoice = portChoiceInt
											}

										}

									}
								}

							}

						}
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["advertise_on_public"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true
					advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseOnPublic{}
					advertiseChoiceInt.AdvertiseOnPublic = &ves_io_schema_views.AdvertisePublic{}
					proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt

					sl := v.([]interface{})
					for _, set := range sl {
						if set != nil {
							cs := set.(map[string]interface{})

							if v, ok := cs["public_ip"]; ok && !isIntfNil(v) {

								sl := v.([]interface{})
								publicIp := &ves_io_schema_views.ObjectRefType{}
								advertiseChoiceInt.AdvertiseOnPublic.PublicIp = publicIp
								for _, set := range sl {
									if set != nil {
										publicIpMapStrToI := set.(map[string]interface{})

										if w, ok := publicIpMapStrToI["name"]; ok && !isIntfNil(w) {
											publicIp.Name = w.(string)
										}

										if w, ok := publicIpMapStrToI["namespace"]; ok && !isIntfNil(w) {
											publicIp.Namespace = w.(string)
										}

										if w, ok := publicIpMapStrToI["tenant"]; ok && !isIntfNil(w) {
											publicIp.Tenant = w.(string)
										}

									}
								}

							}

						}
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["advertise_on_public_default_vip"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true

					if v.(bool) {
						advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_AdvertiseOnPublicDefaultVip{}
						advertiseChoiceInt.AdvertiseOnPublicDefaultVip = &ves_io_schema.Empty{}
						proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt
					}

				}

				if v, ok := proxyAdvertisementMapStrToI["do_not_advertise"]; ok && !isIntfNil(v) && !advertiseChoiceTypeFound {

					advertiseChoiceTypeFound = true

					if v.(bool) {
						advertiseChoiceInt := &ves_io_schema_dns_proxy.ProxyAdvertisementType_DoNotAdvertise{}
						advertiseChoiceInt.DoNotAdvertise = &ves_io_schema.Empty{}
						proxyAdvertisement.AdvertiseChoice = advertiseChoiceInt
					}

				}

			}
		}

	}

	if v, ok := d.GetOk("transport_type"); ok && !isIntfNil(v) {

		updateSpec.TransportType = ves_io_schema_dns_proxy.TransportType(ves_io_schema_dns_proxy.TransportType_value[v.(string)])

	}

	log.Printf("[DEBUG] Updating Volterra DnsProxy obj with struct: %+v", updateReq)

	err := client.ReplaceObject(context.Background(), ves_io_schema_dns_proxy.ObjectType, updateReq)
	if err != nil {
		return fmt.Errorf("error updating DnsProxy: %s", err)
	}

	return resourceVolterraDnsProxyRead(d, meta)
}

func resourceVolterraDnsProxyDelete(d *schema.ResourceData, meta interface{}) error {
	client := meta.(*APIClient)
	name := d.Get("name").(string)
	namespace := d.Get("namespace").(string)

	_, err := client.GetObject(context.Background(), ves_io_schema_dns_proxy.ObjectType, namespace, name)
	if err != nil {
		if strings.Contains(err.Error(), "status code 404") {
			log.Printf("[INFO] DnsProxy %s no longer exists", d.Id())
			d.SetId("")
			return nil
		}
		return fmt.Errorf("Error finding Volterra DnsProxy before deleting %q: %s", d.Id(), err)
	}

	log.Printf("[DEBUG] Deleting Volterra DnsProxy obj with name %+v in namespace %+v", name, namespace)
	opts := []vesapi.CallOpt{
		vesapi.WithFailIfReferred(),
	}
	return client.DeleteObject(context.Background(), ves_io_schema_dns_proxy.ObjectType, namespace, name, opts...)
}
